{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["MathJax","window","r","String","raw","Tex","children","onLoad","style","useState","_","uniqueId","id","loaded","set_loaded","math_el","useRef","useEffect","Hub","Queue","bounds","current","getBoundingClientRect","display","className","ref","SizedContainer","elements","map","all_dims","set_all_dims","every","width","max","dims","height","sum","El","i","DetailBox","Outside","Inside","el","show_inside","set_show_inside","outside_dims","set_outside_dims","inside_dims","set_inside_dims","outside","inside","Math","onClick","e","stopPropagation","IR","premises","conclusion","App","props","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1231365f.chunk.js","sourcesContent":["import {useState, useEffect, useRef, useReducer} from 'react';\nimport './App.scss';\nimport _ from 'lodash';\n\nlet MathJax = window.MathJax;\nlet r = String.raw;\n\nlet Tex = ({children, onLoad, style}) => {\n  let [id] = useState(_.uniqueId('tex'));\n  let [loaded, set_loaded] = useState(false);\n  let math_el = useRef(null);\n  useEffect(() => {\n    MathJax.Hub.Queue(['Typeset', MathJax.Hub, id, () => {\n      let el = math_el.current;\n      let bounds = el.getBoundingClientRect();      \n      if (onLoad) {\n        onLoad(bounds);\n      }\n      set_loaded(true);\n    }]);\n  }, []);\n\n\n  style = !loaded ? {...style, display: 'block'} : style;\n  return <span id={id} style={style} className={!loaded ? 'offscreen' : null} ref={math_el}>\n    {children}\n  </span>;\n};\n\nlet SizedContainer = ({elements, onLoad}) => {\n  let [all_dims, set_all_dims] = useState(elements.map(_ => null));\n  let style = _.every(all_dims) ? {\n    width: _.max(all_dims.map(dims => dims.width)),\n    height: _.sum(all_dims.map(dims => dims.height))    \n  } : null;\n  useEffect(() => {\n    if (onLoad && style) {\n      onLoad(style);\n    }\n  }, [all_dims]);\n  return <div style={style}>{elements.map((El, i) => \n    <El key={i} onLoad={dims => {\n      all_dims[i] = dims;\n      set_all_dims([...all_dims]);\n    }} />\n  )}</div>\n}\n\nlet DetailBox = ({Outside, Inside, onLoad}) => {\n  let el = useRef(null);\n  let [show_inside, set_show_inside] = useState(false);\n  let [outside_dims, set_outside_dims] = useState(null);\n  let [inside_dims, set_inside_dims] = useState(null);\n  let [outside] = useState(<Outside onLoad={set_outside_dims} />);\n  let [inside] = useState(<Inside onLoad={set_inside_dims} />);\n  let style = outside_dims && inside_dims ? {\n    width: Math.max(outside_dims.width, inside_dims.width),\n    height: Math.max(outside_dims.height, inside_dims.height)\n  } : {};\n\n  useEffect(() => {\n    if (outside_dims && inside_dims) {\n      let dims = {\n        width: style.width + 7,\n        height: style.height + 7,\n      }\n      if (onLoad) {\n        onLoad(dims);\n      }\n    }\n  }, [outside_dims, inside_dims]);\n\n  return <div \n    className='detail-box'\n    ref={el}\n    style={style}\n    onClick={e => {\n       e.stopPropagation(); \n       set_show_inside(!show_inside);\n    }}\n  >\n    {inside_dims ? <div style={{display: (!show_inside || !outside_dims) ? 'block' : 'none'}}>\n      {outside}\n    </div> : null}    \n    <div style={{display: show_inside || !inside_dims ? 'block' : 'none'}}>\n     {inside}\n    </div>\n  </div>;\n}\n\nlet IR = ({premises, conclusion}) => {\n  return <div className='inferrule'>\n    {premises}\n    <div className='divider' />\n    {conclusion}\n  </div>;\n};\n\nfunction App() {\n  return <div>\n   <IR premises={<>\n      <DetailBox \n        Outside={props => <Tex {...props}>\n          {r`($ e $) is type-safe for ($ \\pi $)`}\n        </Tex>} \n        Inside={props => <SizedContainer {...props} elements={[\n          props => <DetailBox\n          {...props}\n          Outside={props => <Tex {...props}>\n            {r`($ e $) has type ($ \\tyvar{si} $)`}\n          </Tex>}\n          Inside={props => <Tex {...props}>\n            {r`($\\Sigma; \\Delta; \\Gamma \\vdash e : \\tyvar{si} \\Rightarrow \\Gamma_1$)`}\n          </Tex>} />,\n        props => <DetailBox\n          {...props}\n          Outside={props => <Tex {...props}>\n            {r`($ e $) is a subtype of ($ \\pi $)`}\n          </Tex>}\n          Inside={props => <Tex {...props}>\n            {r`($ \\Gamma_1(\\pi) = \\tyvar{sx} \\wedge \\Delta; \\Gamma_1 \\vdash \\tyvar{si} \\lesssim \\tyvar{sx} \\Rightarrow \\Gamma' $)`}\n          </Tex>} />\n        ]} />} />\n      <DetailBox \n        Outside={props => <Tex {...props}>\n          {r`($ \\pi $) is ownership-safe`}\n        </Tex>} \n        Inside={props => <SizedContainer {...props} elements={[\n          props => <DetailBox {...props}\n            Outside={props => <Tex {...props}>{r`($ \\tyvar{sx} $) is dead`}</Tex>}\n            Inside={props => <Tex {...props}>{r`($ \\tyvar{sx} = \\tyvar{sd} $)`}</Tex>} />,\n          props => <DetailBox {...props}\n            Outside={props => <Tex {...props}>{r`($ \\pi $) has no references`}</Tex>}\n            Inside={props => <Tex {...props}>{r`($ \\Delta; \\Gamma_1 \\vdash_{\\msf{uniq}} \\pi \\Rightarrow \\{\\,^\\msf{uniq} \\pi\\} $)`}</Tex>} />,\n        ]} />} />\n    </>} \n    conclusion={\n      <DetailBox \n        Outside={props => <Tex {...props}>\n          {r`($ \\pi := e$) has type ($ \\tunit $)`}\n        </Tex>} \n        Inside={props => <Tex {...props}>\n          {r`($\\Sigma; \\Delta; \\Gamma \\vdash \\pi := e : \\tunit \\Rightarrow \\Gamma'[\\pi \\mapsto \\tyvar{si}] \\triangleright \\pi$)`}\n        </Tex>} />      \n    } />\n  </div>;\n}\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}