<!DOCTYPE html>
<html>
  <head>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/paper.js/0.9.9/paper.js"></script>
    <script>
	window.onload = function() {
	paper.setup(document.getElementById('lavaLamp'));
    paper.install(window);
	
	//Score for the game
	Score = 0;
	IdealScore = 0;
	
	
	function Intro()
	{
	var BackGround = new Raster('assets/Intro.jpg');
	BackGround.position = view.center;
	var audio = document.createElement('audio');
	var source = document.createElement('source');
	source.src = 'assets/Intro.mp3';
	audio.appendChild(source);
	audio.play();
	}
	
	//Intro();
	//Sets up the Basics of the game background
	function Setup()
	{
	var BackGround = new Raster('assets/BackGround.jpg');
	BackGround.position = view.center;
	var audio = document.createElement('audio');
	var source = document.createElement('source');
	source.src = 'assets/BackGroundMusic.mp3';
	audio.appendChild(source);
	audio.play();
	}
	Setup();
	//setTimeout(function(){Setup();},3000);
	
	var displayScore = new PointText(new Point(180,450));
	displayScore.justification = 'center';
	displayScore.fillColor = 'black';
	displayScore.content = Score;
	
	
	//Makes the sound of placing enemies 
	function place_sound() 
	{
	var audio = document.createElement('audio');
	var source = document.createElement('source');
	source.src = 'assets/Place.mp3';
	audio.appendChild(source);
	audio.play();
	}
	
	//Makes the sound of removing enemies
	function remove_sound() 
	{
	var audio = document.createElement('audio');
	var source = document.createElement('source');
	source.src = 'assets/Boom.mp3';
	audio.appendChild(source);
	audio.play();
	}
	
	//Make all the enemys
	var Enemy = new Raster('assets/Enemy.png');
	var Enemy1 = new Raster('assets/Enemy.png');
	var Enemy2 = new Raster('assets/Enemy.png');
	var Enemy3 = new Raster('assets/Enemy.png');
	var Enemy4 = new Raster('assets/Enemy.png');
	var Enemy5 = new Raster('assets/Enemy.png');
	var Enemy6 = new Raster('assets/Enemy.png');
	var Enemy7 = new Raster('assets/Enemy.png');
	var Enemy8 = new Raster('assets/Enemy.png');
	//Set up all the enemy positions
	Enemy.position.x = 40; Enemy.position.y = 50; Enemy.visible = false;
	Enemy1.position.x = 40; Enemy1.position.y = 150; Enemy1.visible = false;
	Enemy2.position.x = 110; Enemy2.position.y = 70; Enemy2.visible = false;
	Enemy3.position.x = 110; Enemy3.position.y = 140; Enemy3.visible = false;
	Enemy4.position.x = 180; Enemy4.position.y = 100; Enemy4.visible = false;
	Enemy5.position.x = 250; Enemy5.position.y = 70; Enemy5.visible = false;
	Enemy6.position.x = 250; Enemy6.position.y = 140; Enemy6.visible = false;
	Enemy7.position.x = 320; Enemy7.position.y = 50; Enemy7.visible = false;
	Enemy8.position.x = 320; Enemy8.position.y = 150; Enemy8.visible = false;
	
	//The function of when you click on an enemy it goes away
	
	function update()
	{displayScore.content = Score; remove_sound();}
	
	Enemy.onClick = function(event)
	{if (Enemy.visible){Score++;Enemy.visible =false;update()}}
	
	Enemy1.onClick = function(event)
	{if (Enemy1.visible){Score++;Enemy1.visible =false;update();}}
	
	Enemy2.onClick = function(event)
	{if (Enemy2.visible){Score++;Enemy2.visible =false;update();}}
	
	Enemy3.onClick = function(event)
	{if (Enemy3.visible){Score++;Enemy3.visible =false;update();}}
	
	Enemy4.onClick = function(event)
	{if (Enemy4.visible){Score++;Enemy4.visible =false;update();}}
	
	Enemy5.onClick = function(event)
	{if (Enemy5.visible){Score++;Enemy5.visible =false;update();}}
	
	Enemy6.onClick = function(event)
	{if (Enemy6.visible){Score++;Enemy6.visible =false;update();}}
	
	Enemy7.onClick = function(event)
	{if (Enemy7.visible){Score++;Enemy7.visible =false;update();}}
	
	Enemy8.onClick = function(event)
	{if (Enemy8.visible){Score++;Enemy8.visible =false;update();}}

	function Show(n)
	{
		timestep = 350;
		switch(n)
		{
		case 2:
			place_sound();
			Enemy2.visible = true;
			setTimeout(function(){place_sound();},timestep);
			setTimeout(function(){Enemy5.visible = true;},timestep);
		case 3:
			setTimeout(function(){place_sound();},2*timestep);
			setTimeout(function(){Enemy5.visible = true;},2*timestep);
			break;
		case 4:
			place_sound();
			Enemy.visible = true;
			setTimeout(function(){place_sound();},timestep);
			setTimeout(function(){Enemy1.visible = true;},timestep);
			setTimeout(function(){place_sound();},2*timestep);
			setTimeout(function(){Enemy7.visible = true;},2*timestep);
			setTimeout(function(){place_sound();},3*timestep);
			setTimeout(function(){Enemy8.visible = true;},3*timestep);
			break;
		case 5:
			place_sound();
			Enemy.visible = true;
			setTimeout(function(){place_sound();},timestep);
			setTimeout(function(){Enemy2.visible = true;},timestep);
			setTimeout(function(){place_sound();},2*timestep);
			setTimeout(function(){Enemy4.visible = true;},2*timestep);
			setTimeout(function(){place_sound();},3*timestep);
			setTimeout(function(){Enemy5.visible = true;},3*timestep);
			setTimeout(function(){place_sound();},4*timestep);
			setTimeout(function(){Enemy7.visible = true;},4*timestep);
			break;
		case 6:
			place_sound();
			Enemy.visible = true;
			setTimeout(function(){place_sound();},timestep);
			setTimeout(function(){Enemy1.visible = true;},timestep);
			setTimeout(function(){place_sound();},2*timestep);
			setTimeout(function(){Enemy2.visible = true;},2*timestep);
			setTimeout(function(){place_sound();},3*timestep);
			setTimeout(function(){Enemy5.visible = true;},3*timestep);
			setTimeout(function(){place_sound();},4*timestep);
			setTimeout(function(){Enemy7.visible = true;},4*timestep);
			setTimeout(function(){place_sound();},5*timestep);
			setTimeout(function(){Enemy8.visible = true;},5*timestep);
			break;
		case 7:
			place_sound();
			nemy.visible = true;
			setTimeout(function(){place_sound();},timestep);
			setTimeout(function(){Enemy1.visible = true;},timestep);
			setTimeout(function(){place_sound();},2*timestep);
			setTimeout(function(){Enemy2.visible = true;},2*timestep);
			setTimeout(function(){place_sound();},3*timestep);
			setTimeout(function(){Enemy4.visible = true;},3*timestep);
			setTimeout(function(){place_sound();},4*timestep);
			setTimeout(function(){Enemy5.visible = true;},4*timestep);
			setTimeout(function(){place_sound();},5*timestep);
			setTimeout(function(){Enemy7.visible = true;},5*timestep);
			setTimeout(function(){place_sound();},6*timestep);
			setTimeout(function(){Enemy8.visible = true;},6*timestep);
			break;
		case 8:
			place_sound();
			Enemy.visible = true;
			setTimeout(function(){place_sound();},timestep);
			setTimeout(function(){Enemy1.visible = true;},timestep);
			setTimeout(function(){place_sound();},2*timestep);
			setTimeout(function(){Enemy2.visible = true;},2*timestep);
			setTimeout(function(){place_sound();},3*timestep);
			setTimeout(function(){Enemy3.visible = true;},3*timestep);
			setTimeout(function(){place_sound();},4*timestep);
			setTimeout(function(){Enemy5.visible = true;},4*timestep);
			setTimeout(function(){place_sound();},5*timestep);
			setTimeout(function(){Enemy6.visible = true;},5*timestep);
			setTimeout(function(){place_sound();},6*timestep);
			setTimeout(function(){Enemy7.visible = true;},6*timestep);
			setTimeout(function(){place_sound();},7*timestep);
			setTimeout(function(){Enemy8.visible = true;},7*timestep);
			break;
		}
	}
	
	
	function Clear(n){
	timestep = 25;
		step = 1;
		switch(n)
		{
		case 2:
			setTimeout(function(){Enemy2.visible = false;},2*timestep);
			setTimeout(function(){Enemy5.visible = false;},4*timestep);
			break;
		case 3:
			setTimeout(function(){Enemy2.visible = false;},2*timestep);
			setTimeout(function(){Enemy4.visible = false;},4*timestep);
			setTimeout(function(){Enemy5.visible = false;},6*timestep);
			break;
		case 4:
			setTimeout(function(){Enemy.visible = false;},2*timestep);
			setTimeout(function(){Enemy1.visible = false;},4*timestep);
			setTimeout(function(){Enemy7.visible = false;},6*timestep);
			setTimeout(function(){Enemy8.visible = false;},8*timestep);
			break;
		case 5:
			setTimeout(function(){Enemy.visible = false;},2*timestep);
			setTimeout(function(){Enemy2.visible = false;},4*timestep);
			setTimeout(function(){Enemy4.visible = false;},6*timestep);
			setTimeout(function(){Enemy5.visible = false;},8*timestep);
			setTimeout(function(){Enemy7.visible = false;},10*timestep);
			break;
		case 6:
			setTimeout(function(){Enemy.visible = false;},2*timestep);
			setTimeout(function(){Enemy1.visible = false;},4*timestep);
			setTimeout(function(){Enemy2.visible = false;},6*timestep);
			setTimeout(function(){Enemy5.visible = false;},8*timestep);
			setTimeout(function(){Enemy7.visible = false;},10*timestep);
			setTimeout(function(){Enemy8.visible = false;},12*timestep);
			break;
		case 7:
			setTimeout(function(){Enemy.visible = false;},2*timestep);
			setTimeout(function(){Enemy1.visible = false;},4*timestep);
			setTimeout(function(){Enemy2.visible = false;},6*timestep);
			setTimeout(function(){Enemy4.visible = false;},8*timestep);
			setTimeout(function(){Enemy5.visible = false;},10*timestep);
			setTimeout(function(){Enemy7.visible = false;},12*timestep);
			setTimeout(function(){Enemy8.visible = false;},14*timestep);
			break;
		case 8:
			setTimeout(function(){Enemy.visible = false;},2*timestep);
			setTimeout(function(){Enemy1.visible = false;},4*timestep);
			setTimeout(function(){Enemy2.visible = false;},6*timestep);
			setTimeout(function(){Enemy3.visible = false;},8*timestep);
			setTimeout(function(){Enemy5.visible = false;},10*timestep);
			setTimeout(function(){Enemy6.visible = false;},12*timestep);
			setTimeout(function(){Enemy7.visible = false;},14*timestep);
			setTimeout(function(){Enemy8.visible = false;},16*timestep);
			break;
		}
	}


	Levels = [4,4,4,2,4,4,4,4,5,8,5,6,4,4,4,4,4,8,8,8,7,4,5,5,6,3];
	
	function CreateLevel(Levels,level){
	setTimeout(function(){Show(Levels[level]);},((2*level+1)*1800));
	setTimeout(function(){Clear(Levels[level]);},((2*level+2)*1800));
	}
	
	
	setTimeout(function()
	{
	for (var level=0; level<Levels.length;level++)
	{
		CreateLevel(Levels,level);
	};
	},5400);
	view.onFrame = function() {};
}
	 </script>
  </head>
  <body>
    <canvas id="lavaLamp" width="360" height="472" style="border:1px solid black;"></canvas>
  </body>
</html>